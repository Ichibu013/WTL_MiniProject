<!-- Explore Books Section -->
<section id="books" class="books section">
    <div class="container section-title" data-aos="fade-up">
        <h2>Explore Books</h2>
        <p><span>Discover</span> <span class="description-title">Your Next Read</span></p>
    </div>

    <!-- Filters and Search -->
    <div class="container filters">
        <div class="row d-flex align-items-center justify-content-between flex-wrap">
            <div class="col-md-12">
                <label for="searchFilter">Search:</label>
                <input type="text" id="searchFilter" class="form-control form-control-lg" placeholder="Search books..."/>
            </div>
            <div class="col-md-3">
                <label for="priceFilter">Price:</label>
                <select id="priceFilter" class="form-control">
                    <option value="all">All</option>
                    <option value="0-10">$0 - $10</option>
                    <option value="10-20">$10 - $20</option>
                    <option value="20-50">$20 - $50</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="languageFilter">Language:</label>
                <select id="languageFilter" class="form-control">
                    <option value="all">All</option>
                    <option value="english">English</option>
                    <option value="hindi">Hindi</option>
                    <option value="french">French</option>
                    <option value="german">German</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="categoryFilter">Category:</label>
                <select id="categoryFilter" class="form-control">
                    <option value="all">All</option>
                    <option value="fiction">Fiction</option>
                    <option value="mystery">Mystery</option>
                    <option value="science-fiction">Science Fiction</option>
                    <option value="fantasy">Fantasy</option>
                    <option value="romance">Romance</option>
                    <option value="biographies">Biographies</option>
                    <option value="crime">Crime</option>
                    <option value="thriller">Thriller/Suspense</option>
                    <option value="historical-fiction">Historical Fiction</option>
                    <option value="action-adventure">Action & Adventure</option>
                    <option value="horror">Horror</option>
                    <option value="health">Health</option>
                    <option value="travel">Travel</option>
                    <option value="religion">Religion/Spirituality</option>
                    <option value="philosophy">Philosophy</option>
                    <option value="comics">Comics</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="sortFilter">Sort By:</label>
                <select id="sortFilter" class="form-control">
                    <option value="default">Default</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="popularity">Popularity</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Book Section Title -->
    <div class="container section-title" data-aos="fade-up">
        <p><span>Explore Our</span> <span class="description-title">Books Collection</span></p>
    </div>

    <div class="container mt-4">
        <div id="booksContainer" class="row row-cols-2 row-cols-sm-4 row-cols-lg-6 g-4">
            <!-- Book cards will be dynamically inserted here -->
        </div>
    </div>

    <!-- Book Detail Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div id="bookDetailModal" class="modal">
            <div class="modal-content">
                <span class="closeModal" onclick="booksModule.closeModal()">&times;</span>
                <div class="modal-body">
                    <div class="modal-left">
                        <h3 id="modalTitle"></h3>
                        <p><strong>Author:</strong> <span id="modalAuthor"></span></p>
                        <p><strong>Price:</strong> $<span id="modalPrice"></span></p>
                        <p><strong>Description:</strong></p>
                        <p id="modalDescription"></p>
                        <button id="addToCartBtn" class="add-to-cart">
                            Add to Cart
                        </button>
                    </div>
                    <div class="modal-right">
                        <img id="modalImage" src="" alt="Book Image" />
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

<!-- Initialize books module after content is loaded -->
<script>
    // Wait for the DOM to be fully loaded
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeBooks);
    } else {
        initializeBooks();
    }

    function initializeBooks() {
        // Load the books.js script
        const script = document.createElement('script');
        script.src = 'assets/js/books.js';
        script.onload = function() {
            console.log('Books.js loaded successfully');
            if (typeof booksModule !== 'undefined') {
                booksModule.init();
            }
        };
        document.body.appendChild(script);
    }
</script>
